<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Gallery ‚Äî S. M. Iqbal Mahamud</title>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"/>
<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: "Plus Jakarta Sans", sans-serif; background: #f0f2f5; color: #1a1a2e; }
nav { position: fixed; top: 0; left: 0; right: 0; height: 68px; background: #fff; display: flex; align-items: center; justify-content: space-between; padding: 0 52px; border-bottom: 1px solid #ebebeb; z-index: 999; box-shadow: 0 1px 6px rgba(0,0,0,0.05); }
.nav-brand { display: flex; align-items: center; gap: 10px; text-decoration: none; }
.nav-circle { width: 38px; height: 38px; border-radius: 50%; background: #7C3AED; color: #fff; font-weight: 800; font-size: 0.95rem; display: flex; align-items: center; justify-content: center; }
.nav-name { font-weight: 800; font-size: 1rem; color: #1a1a2e; }
.nav-links { display: flex; align-items: center; gap: 28px; list-style: none; }
.nav-links a { color: #555; text-decoration: none; font-size: 0.88rem; font-weight: 500; transition: color .2s; }
.nav-links a:hover, .nav-links a.active { color: #7C3AED; }
.nav-cta { background: #7C3AED; color: #fff !important; padding: 9px 22px; border-radius: 7px; font-weight: 600 !important; }
.page { padding-top: 68px; }
.page-header { background: linear-gradient(135deg, #1a1a2e 0%, #2d1b69 50%, #7C3AED 100%); padding: 50px 60px 0; }
.page-header h1 { font-size: 2.4rem; font-weight: 800; color: white; margin-bottom: 8px; }
.page-header p { color: rgba(255,255,255,0.7); margin-bottom: 30px; }

/* CATEGORY TABS */
.tabs { display: flex; gap: 8px; flex-wrap: wrap; padding-bottom: 0; }
.tab { padding: 10px 20px; border-radius: 8px 8px 0 0; font-size: 0.85rem; font-weight: 600; cursor: pointer; border: none; background: rgba(255,255,255,0.15); color: rgba(255,255,255,0.8); transition: background .2s, color .2s; }
.tab.active { background: #fff; color: #7C3AED; }
.tab:hover:not(.active) { background: rgba(255,255,255,0.25); color: white; }

.content { max-width: 1200px; margin: 0 auto; padding: 40px; }

/* UPLOAD AREA */
.upload-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 28px; background: white; border-radius: 14px; padding: 16px 24px; box-shadow: 0 4px 16px rgba(0,0,0,0.05); border: 1px solid #f0f0f0; }
.upload-bar-left { font-size: 0.9rem; color: #6b7280; }
.upload-bar-left strong { color: #1a1a2e; }
.upload-btn { background: #7C3AED; color: white; padding: 10px 22px; border-radius: 8px; font-weight: 700; font-size: 0.85rem; border: none; cursor: pointer; display: flex; align-items: center; gap: 8px; transition: background .2s, transform .2s; }
.upload-btn:hover { background: #6D28D9; transform: translateY(-2px); }

/* INSTAGRAM GRID */
.grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; }
.grid-item { aspect-ratio: 1; background: #e0e0f0; overflow: hidden; cursor: pointer; position: relative; }
.grid-item img { width: 100%; height: 100%; object-fit: cover; transition: transform .3s; display: block; }
.grid-item:hover img { transform: scale(1.05); }
.grid-item-overlay { position: absolute; inset: 0; background: rgba(124,58,237,0.6); display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity .25s; }
.grid-item:hover .grid-item-overlay { opacity: 1; }
.grid-item-overlay span { color: white; font-size: 0.85rem; font-weight: 700; }

/* PLACEHOLDER ITEMS */
.placeholder-item { width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 2rem; gap: 8px; }
.placeholder-item span { font-size: 0.7rem; font-weight: 600; color: #9ca3af; text-transform: uppercase; letter-spacing: 0.06em; }

/* LIGHTBOX */
.lightbox { position: fixed; inset: 0; background: rgba(0,0,0,0.92); z-index: 9999; display: none; align-items: center; justify-content: center; padding: 20px; }
.lightbox.open { display: flex; }
.lightbox-inner { position: relative; max-width: 900px; width: 100%; }
.lightbox-img { width: 100%; max-height: 85vh; object-fit: contain; border-radius: 12px; display: block; }
.lightbox-close { position: absolute; top: -44px; right: 0; background: white; border: none; width: 36px; height: 36px; border-radius: 50%; cursor: pointer; font-size: 1.1rem; display: flex; align-items: center; justify-content: center; }
.lightbox-nav { position: absolute; top: 50%; transform: translateY(-50%); background: white; border: none; width: 44px; height: 44px; border-radius: 50%; cursor: pointer; font-size: 1.2rem; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 16px rgba(0,0,0,0.3); }
.lightbox-prev { left: -56px; }
.lightbox-next { right: -56px; }
.empty-state { text-align: center; padding: 80px 20px; color: #9ca3af; }
.empty-state .empty-icon { font-size: 4rem; margin-bottom: 16px; }
.empty-state p { font-size: 0.95rem; }

@media (max-width: 768px) {
  nav { padding: 0 20px; }
  .page-header { padding: 40px 24px 0; }
  .content { padding: 24px 16px; }
  .grid { gap: 3px; }
  .nav-links li:nth-child(2),.nav-links li:nth-child(3),.nav-links li:nth-child(4) { display: none; }
  .lightbox-prev { left: -10px; }
  .lightbox-next { right: -10px; }
}
</style>
</head>
<body>
<nav>
  <a href="index.html" class="nav-brand"><div class="nav-circle">I</div><span class="nav-name">Iqbal Mahamud</span></a>
  <ul class="nav-links">
    <li><a href="index.html">Home</a></li>
    <li><a href="about.html">About</a></li>
    <li><a href="skills.html">Skills</a></li>
    <li><a href="experience.html">Experience</a></li>
    <li><a href="publications.html">Publications</a></li>
    <li><a href="gallery.html" class="active">Gallery</a></li>
    <li><a href="writing.html">Writing</a></li>
    <li><a href="contact.html" class="nav-cta">Contact</a></li>
  </ul>
</nav>
<div class="page">
  <div class="page-header">
    <h1>Photo Gallery</h1>
    <p>Moments captured through the lens.</p>
    <div class="tabs">
      <div class="tab active" onclick="filterGallery('all', this)">All</div>
      <div class="tab" onclick="filterGallery('landscape', this)">üåÑ Landscape</div>
      <div class="tab" onclick="filterGallery('portrait', this)">üßë Portrait</div>
      <div class="tab" onclick="filterGallery('macro', this)">üîç Macro</div>
      <div class="tab" onclick="filterGallery('street', this)">üèôÔ∏è Street</div>
      <div class="tab" onclick="filterGallery('wildlife', this)">ü¶ã Wildlife</div>
      <div class="tab" onclick="filterGallery('architecture', this)">üèõÔ∏è Architecture</div>
    </div>
  </div>
  <div class="content">
    <div class="upload-bar">
      <div class="upload-bar-left">üì∏ <strong id="photoCount">0 photos</strong> in your gallery</div>
      <button class="upload-btn" onclick="uploadPhotos()">+ Upload Photos</button>
    </div>
    <div class="grid" id="photoGrid">
      <div class="empty-state" style="grid-column:1/-1">
        <div class="empty-icon">üì∑</div>
        <p>No photos yet. Click <strong>"Upload Photos"</strong> to add your first photo!</p>
      </div>
    </div>
  </div>
</div>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox">
  <div class="lightbox-inner">
    <button class="lightbox-close" onclick="closeLightbox()">‚úï</button>
    <button class="lightbox-nav lightbox-prev" onclick="prevPhoto()">‚Äπ</button>
    <img class="lightbox-img" id="lightboxImg" src="" alt=""/>
    <button class="lightbox-nav lightbox-next" onclick="nextPhoto()">‚Ä∫</button>
  </div>
</div>

<script>
var photos = JSON.parse(localStorage.getItem('gallery_photos') || '[]');
var currentCategory = 'all';
var currentIdx = 0;

function savePhotos() { localStorage.setItem('gallery_photos', JSON.stringify(photos)); }

function uploadPhotos() {
  var input = document.createElement('input');
  input.type = 'file'; input.accept = 'image/*'; input.multiple = true;
  input.onchange = function(e) {
    var cats = ['landscape','portrait','macro','street','wildlife','architecture'];
    var cat = currentCategory === 'all' ? 'landscape' : currentCategory;
    Array.from(e.target.files).forEach(function(file) {
      var reader = new FileReader();
      reader.onload = function(ev) {
        photos.push({ src: ev.target.result, category: cat, name: file.name });
        savePhotos(); renderGrid();
      };
      reader.readAsDataURL(file);
    });
  };
  input.click();
}

function filterGallery(cat, el) {
  currentCategory = cat;
  document.querySelectorAll('.tab').forEach(function(t){ t.classList.remove('active'); });
  el.classList.add('active');
  renderGrid();
}

function renderGrid() {
  var filtered = currentCategory === 'all' ? photos : photos.filter(function(p){ return p.category === currentCategory; });
  var grid = document.getElementById('photoGrid');
  document.getElementById('photoCount').textContent = photos.length + ' photo' + (photos.length !== 1 ? 's' : '');
  if (filtered.length === 0) {
    grid.innerHTML = '<div class="empty-state" style="grid-column:1/-1"><div class="empty-icon">üì∑</div><p>No photos in this category yet.</p></div>';
    return;
  }
  grid.innerHTML = filtered.map(function(p, i) {
    return '<div class="grid-item" onclick="openLightbox(' + i + ')">' +
      '<img src="' + p.src + '" alt="' + p.name + '"/>' +
      '<div class="grid-item-overlay"><span>üîç View</span></div></div>';
  }).join('');
}

function openLightbox(idx) {
  currentIdx = idx;
  var filtered = currentCategory === 'all' ? photos : photos.filter(function(p){ return p.category === currentCategory; });
  document.getElementById('lightboxImg').src = filtered[idx].src;
  document.getElementById('lightbox').classList.add('open');
}
function closeLightbox() { document.getElementById('lightbox').classList.remove('open'); }
function prevPhoto() {
  var filtered = currentCategory === 'all' ? photos : photos.filter(function(p){ return p.category === currentCategory; });
  currentIdx = (currentIdx - 1 + filtered.length) % filtered.length;
  document.getElementById('lightboxImg').src = filtered[currentIdx].src;
}
function nextPhoto() {
  var filtered = currentCategory === 'all' ? photos : photos.filter(function(p){ return p.category === currentCategory; });
  currentIdx = (currentIdx + 1) % filtered.length;
  document.getElementById('lightboxImg').src = filtered[currentIdx].src;
}
document.getElementById('lightbox').addEventListener('click', function(e){ if(e.target === this) closeLightbox(); });
document.addEventListener('keydown', function(e){ if(e.key==='Escape') closeLightbox(); if(e.key==='ArrowLeft') prevPhoto(); if(e.key==='ArrowRight') nextPhoto(); });
renderGrid();
</script>
</body>
</html>
